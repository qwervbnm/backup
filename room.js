(function(t){function e(e){for(var o,n,a=e[0],c=e[1],l=e[2],d=0,h=[];d<a.length;d++)n=a[d],r[n]&&h.push(r[n][0]),r[n]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);u&&u(e);while(h.length)h.shift()();return i.push.apply(i,l||[]),s()}function s(){for(var t,e=0;e<i.length;e++){for(var s=i[e],o=!0,a=1;a<s.length;a++){var c=s[a];0!==r[c]&&(o=!1)}o&&(i.splice(e--,1),t=n(n.s=s[0]))}return t}var o={},r={1:0},i=[];function n(e){if(o[e])return o[e].exports;var s=o[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=o,n.d=function(t,e,s){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(s,o,function(e){return t[e]}.bind(null,o));return s},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="";var a=window["dyasstWebpackJsonp"]=window["dyasstWebpackJsonp"]||[],c=a.push.bind(a);a.push=e,a=a.slice();for(var l=0;l<a.length;l++)e(a[l]);var u=c;i.push([4,2]),s()})([function(t,e,s){t.exports=s(2)},function(t,e,s){(function(e){var{jsBundleUrl:o}=s(0);async function r(t){return new Promise(e=>setTimeout(()=>e(),t))}function i(t){var s=e&&e.env&&!0;s?(t=t.startsWith("/tsbuild")?t.slice(8):t,t=t.startsWith("chrome-extension")?t.slice(t.indexOf("/tsbuild")+8):t,t=o+t):t=t.startsWith("chrome-extension")?t:chrome.extension.getURL(t);var r=document.createElement("script");return r.src=t,document.documentElement.appendChild(r),r.parentNode.removeChild(r),r}function n(t,e){if(e>0){var s=new Audio;s.src=t,s.volume=e,s.play()}}async function a(t,e,s=200){while(1){if(t[e])return;await r(s)}}async function c(t,e=200){while(1){var s=document.querySelector(t);if(s)return s;await r(e)}}function l(t){for(var e of Object.keys(t))if(e.startsWith("__reactInternalInstance"))return t[e].return}t.exports={sleep:r,injectRemoteJS:i,playAudio:n,waitForObj:a,waitForDom:c,getReactInstance:l}}).call(this,s(8))},function(t,e){t.exports={headerTitle:"99999答题助手",avatarUrl:"https://apic.douyucdn.cn/upload/avatar_v3/201808/650168b922e4aae868b29fec672c4fa9_big.jpg",version:"0.1.0",roomUrl:"https://www.douyu.com/99999",roomId:"99999",notification:{enabled:!1,label2_0:"专属"},proModeEnabled:!1,jsBundleUrl:"https://static.jiuwozb.com/ans_99999",versionTitle:"临时版",key:"a321bk"}},function(t,e,s){var{EventEmitter:o}=s(10);class r extends o{grant(){return!0}updateSetting(t){this.setting=t}getDepObjs(){return null}depObjReady(){}registerWebpackHooks(){}install(){}}t.exports=r},function(t,e,s){var o=s(0),r=s(5),i=s(9),n=s(12),a=s(13);function c(t){var e=new i(t),s=new n(t,window.dyasstReactAgent),c=new a(t),l=new r;l.push(e),l.push(s),l.push(c);try{l.install()}catch(t){console.error(t)}document.location.href.startsWith(o.roomUrl)&&window.postMessage({source:"pro_tab",target:"bg"},"*"),window.addEventListener("message",e=>{e.source===window&&e.data&&"sync"===e.data.source?"normal"===t.ghoulMode&&t.autoClose&&tsboxPlugin.noTs&&window.close():e.source===window&&e.data&&"tsbox"===e.data.source?tsboxPlugin.handleRemotePendingBoxes(e.data.data):e.source===window&&e.data&&"update_setting"===e.data.source&&l.updateSetting(e.data.data)})}(()=>{var t=!1;window.postMessage({source:"backend_installed"},"*"),window.addEventListener("message",e=>{if(e.source===window&&e.data&&"setting"===e.data.source&&!t){t=!0;var s=e.data.data;s.key===o.key&&c(s)}})})()},function(t,e,s){var o=s(6),{sleep:r}=s(1);class i{constructor(){this.webpackHooker=new o,this.plugins=[],this.objPromises=new Map}async waitForObj(t,e,s=200){while(1){if(t[e])return;await r(s)}}push(t){t.grant()&&this.plugins.push(t)}updateSetting(t){this.plugins.forEach(e=>e.updateSetting(t))}install(){this.plugins.forEach(t=>{t.registerWebpackHooks(this.webpackHooker);var e=t.getDepObjs();e&&e.length>0&&e.forEach(e=>{this.objPromises.has(e)||this.objPromises.set(e,this.waitForObj(window,e)),this.objPromises.get(e).then(()=>t.depObjReady(e))})}),this.webpackHooker.install(),this.plugins.forEach(t=>t.install())}}t.exports=i},function(t,e,s){var o=s(7);class r{constructor(){this.hooks={}}replace(t,e,s){this.hooks[t]||(this.hooks[t]={});var o=this.hooks[t];while(e.length>0){var r=e.shift();o[r]||(o[r]={}),o=o[r]}o.leaf=!0,o.replace&&console.log("webpackHooker replace conflict:",t,e),o.replace=s}subscribe(t,e,s){this.hooks[t]||(this.hooks[t]={});var o=this.hooks[t];while(e.length>0){var r=e.shift();o[r]||(o[r]={}),o=o[r]}o.leaf=!0,o.subscribers||(o.subscribers=[]),o.subscribers.push(s)}install(){o.hook(this.hooks)}}t.exports=r},function(t,e,s){var{sleep:o}=s(1);async function r(){while(!window.shark_room_jsonp)await o(333);return new Promise(t=>{var e="fakeModule",s={[e]:(e,s,o)=>{t(o.c)}};window.shark_room_jsonp.push([[1e4],s,[[e]]])})}function i(t,e,s){Object.keys(e).forEach(o=>{if("prototype"===o)return i(t.prototype,e[o],s);var r=t[o],{leaf:n}=e[o];Object.defineProperty(t,o,{get:()=>{return n?function(...t){return e[o].subscribers&&e[o].subscribers.forEach(e=>e(s,r,...t)),e[o].replace?e[o].replace.call(this,s,r,...t):r.call(this,...t)}:t[`_${o}`]},set:r=>{!n&&i(r,e[o],s),t[`_${o}`]=r}}),r&&(t[o]=r)})}function n(t,e,s){Object.defineProperty(t,e,{get:()=>t[`_${e}`],set:o=>{var r=o.exports;Object.defineProperty(o,"exports",{get:()=>o._exports,set:e=>{i(e,s,t),o._exports=e}}),o.exports=r,t[`_${e}`]=o}})}async function a(t){var e=await r();Object.keys(t).forEach(s=>n(e,s,t[s]))}t.exports={hook:a}},,function(t,e,s){var o=s(3),{getUid:r}=s(11);class i extends o{constructor(t){super(),this.setting=t,this.uid=null,this.statistic={A:0,B:0,C:0},this.state="IDLE"}getDepObjs(){return["socketProxy"]}depObjReady(t){"socketProxy"===t&&this.installSocketHook()}barrageHandler(t){"WORK"===this.state&&t.txt.toUpperCase().split("").forEach(t=>{"A"!==t&&"B"!==t&&"C"!==t||++this.statistic[t]})}sendAns(t,e){var{room:s}=window.socketProxy.info,o={type:"compqaq",acid:"act_comdt",qid:e,aid:t.charCodeAt(0)-"A".charCodeAt(0),rid:s.roomId,uid:r()};window.socketProxy.sendMessage(o)}async answerProblem(t){var e=Object.entries(this.statistic).sort((t,e)=>e[1]-t[1])[0][0];if(this.statistic[e]>10)this.sendAns(e,t),setTimeout(()=>this.state="IDLE",5e3);else{var s=0;function o(){var e=Object.entries(this.statistic).sort((t,e)=>e[1]-t[1])[0][0];if(this.statistic[e]>10&&(this.sendAns(e,t),setTimeout(()=>this.state="IDLE",5e3)),++s>60)return setTimeout(()=>this.state="IDLE",5e3);setTimeout(o,1e3)}setTimeout(o,1e3)}}reset(){this.statistic.A=0,this.statistic.B=0,this.statistic.C=0}async getAnswer(t){this.reset(),this.state="WORK"}problemHandler(t){var{res:e,qid:s,cd:o}=t;0===parseInt(e,10)&&s?this.answerProblem(s):this.getAnswer(parseInt(o,10))}autoRefresh(){var t=1e3*parseInt(this.setting.autoRefreshFreq,10);if(t){var e=()=>{"IDLE"===this.state?window.location.reload():setTimeout(e,this.autoRefresh)};setTimeout(e,t)}}installSocketHook(){var{socketStream:t}=window.socketProxy,e=this,s=t.MODULE.uenter.throttle;t.MODULE.uenter.throttle=function(...t){return e.setting.blockEnterBarrage||s.call(this,...t)};var o=t.MODULE.chatmsg.throttle;t.MODULE.chatmsg.throttle=function(t,...s){e.uid||(e.uid=r());try{t.uid!==e.uid&&t.uid!==window.socketProxy.info.user.userName||"off"===e.setting.nobleBarrageExp||(t.nc="1",t.nl=e.setting.nobleBarrageExp)}catch(t){}return o.call(this,t,...s)},t.subscribe("chatmsg",this.barrageHandler.bind(this)),this.setting.autoAnswerEnabled&&(t.subscribe("compqs",this.problemHandler.bind(this)),this.autoRefresh(),console.log("answer robot setup successfully."))}}t.exports=i},,function(t,e){function s(){for(var t of document.cookie.split(";"))if(t.indexOf("acf_uid")>=0)return t.split("=")[1]}function o(){if(!this.did)for(var t of document.cookie.split(";"))if(t.indexOf("acf_did")>=0)return t.split("=")[1]}t.exports={getUid:s,getDid:o}},function(t,e,s){var o=s(3),{sleep:r,waitForDom:i,getReactInstance:n}=s(1);class a extends o{constructor(t,e){super(),this.setting=t,this.reactAgent=e}giftHandler(t){20226===t.id||20005===t.id||20452===t.id||20440===t.id||20453===t.id?(t.batchDesc=["口嗨1小时","妹妹微信","我无聊哥出狱辣","你在想P吃"],t.batchNumArr=[10,500,1e3,9999],t.intro="赠送500个超火，您将获得妹妹微信"):2e4===t.id?(t.batchDesc=["长长久久","赞一发","我爱你","一生一世","溜溜溜"],t.batchNumArr=[99,233,520,1314,6666],t.intro="Powered By 摸金插件"):20137===t.id?(t.batchDesc=["长长久久","赞一发","我爱你","一生一世","溜溜溜"],t.batchNumArr=[99,233,520,1314,6666],t.intro="Powered By 摸金插件"):20138===t.id&&(t.batchDesc=["长长久久","赞一发","我爱你","一生一世","溜溜溜"],t.batchNumArr=[99,233,520,1314,6666],t.intro="Powered By 摸金插件")}async install(){i(".Backpack").then(t=>{var e=n(t);if(e){var{batchGiftConfigs:s,propGiftConfigs:o}=e.stateNode.props,r={isBatch:1,descList:["长长久久","赞一发","我爱你","一生一世","溜溜溜"],numList:[99,233,520,1314,6666],intro:"Powered By 摸金插件"};o&&Object.keys(o).forEach(t=>{s[t]||(s[t]=r)})}});while(1){try{var{giftData:t}=window.RoomApp.container.registry.store.getState(),{allGift:e}=t;if(e.length>0){e.forEach(t=>{this.giftHandler(t)});break}}catch(t){}await r(333)}}}t.exports=a},function(t,e,s){var o=s(3),{waitForDom:r,waitForObj:i}=s(1);class n extends o{constructor(t){super(),this.setting=t}install(){this.setting.blockRoomAd&&(r(".Bottom-ad",333).then(t=>{t.style.display="none"}),r(".SignBarrage",333).then(t=>{t.style.display="none"}),r(".Title-ad",333).then(t=>{t.style.display="none"}),r("div[class^=recommendAD]",333).then(t=>{t.style.display="none"})),this.setting.blockLiveStream&&i(window,"H5PlayerVideoLib").then(()=>{i(window.H5PlayerVideoLib,"getVideo").then(()=>{var t=window.H5PlayerVideoLib.getVideo();try{t?(t.destroy(),console.log("video blocked")):console.log("off")}catch(t){console.log(t)}})})}}t.exports=n}]);